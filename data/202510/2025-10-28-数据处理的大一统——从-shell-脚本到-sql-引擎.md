# 数据处理的大一统——从 Shell 脚本到 SQL 引擎
- URL: https://www.qtmuniao.com/2023/08/21/unify-data-processing/
- Added At: 2025-10-28 04:00:08
- [Link To Text](2025-10-28-数据处理的大一统——从-shell-脚本到-sql-引擎_raw.md)

## TL;DR
本文探讨了数据处理流水线、Unix 管道、MapReduce、GFS、Spark、关系型数据库及执行引擎等，阐述数据处理技术及架构，强调数据处理大一统的重要性。

## Summary
1. **数据处理流水线**：
   - **核心概念**：标准化的数据集合和可组合的数据变换。
   - **数据处理本质**：读取并标准化数据集后，施加不同的变换组合。
   - **Unix 管道**：Unix 管道体现 Unix 哲学，强调程序简单、协同工作和处理文本数据流。

2. **Unix 管道特点**：
   - **简单功能**：每个命令实现功能简单。
   - **管道组合**：命令通过管道组合，面向标准输入输出。
   - **文本处理**：输入输出面向文本而非二进制。
   - **流式处理**：流式处理数据，多个程序并行执行。

3. **MapReduce 和 GFS**：
   - **MapReduce**：Google 提出的算法，用于大规模集群、并行数据处理。
   - **GFS**：与 MapReduce 配套使用的分布式文件系统。
   - **MapReduce 阶段**：Map、Shuffle 和 Reduce。
   - **优点**：可进行任意的、非线性的程序排布。
   - **缺点**：输出物化代价高，涉及大量数据传输和数据拷贝。

4. **Spark**：
   - **RDD**：Spark 提出的数据集抽象，基于内存和分片。
   - **算子集**：提供多种可灵活组合的算子集。
   - **DAG 执行**：用户可以构建复杂的 DAG 执行拓扑。

5. **关系型数据库**：
   - **数据组织单位**：关系（表）。
   - **SQL 模型**：由行列组成的强模式二维表。
   - **关系代数算子**：选择、投影、笛卡尔乘积。
   - **执行引擎**：如 Facebook Velox，负责 SQL 语句的解析、校验、优化和执行。

6. **执行引擎类型**：
   - **火山模型**：拉（pull-based）流派的执行方式。
   - **推（push-based）流派**：DuckDB、Velox 等，类似于将递归转化为迭代，自下而上计算。

7. **数据处理大一统**：
   - **抽象归一化数据集**：提供施加于数据集之上的运算集。
   - **组合表达需求**：通过组合形式表达用户数据处理需求。
