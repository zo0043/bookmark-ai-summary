# IO模型介绍（select、poll、epoll）
- URL: https://mp.weixin.qq.com/s/wvggAQmWLjfVUpwAc0nckQ
- Added At: 2025-01-07 12:48:17
- [Link To Text](2025-01-07-io模型介绍（select、poll、epoll）_raw.md)

## TL;DR
本文探讨了IO模型、操作阶段、流程分类，包括阻塞式、非阻塞式、IO多路复用、信号驱动和异步IO，以及同步与异步IO的区别。

## Summary
1. **IO模型概述**：
   - IO（输入输出）涉及数据输入和输出过程，包括磁盘IO和网络IO。
   - 操作系统通过API允许应用程序间接进行IO操作，以保护内核空间。

2. **IO操作阶段**：
   - 应用程序发起IO调用请求。
   - 操作系统内核执行IO操作，包括数据准备和拷贝阶段。

3. **IO流程**：
   - 应用程序请求IO。
   - 操作系统准备数据。
   - 操作系统拷贝数据到用户进程缓冲区。
   - IO本质是等待和拷贝。

4. **IO模型分类**：
   - **阻塞式IO**：服务端在accept和read时阻塞，数据准备和拷贝在内核和用户空间之间进行。
   - **非阻塞式IO**：操作系统提供非阻塞read函数，当数据未就绪时返回-1，当就绪时读取数据。
   - **IO多路复用（select、poll、epoll）**：
     - **select**：系统提供的系统函数，可监控多个文件描述符，但存在拷贝和遍历问题。
     - **poll**：与select类似，但去除了文件描述符个数的限制。
     - **epoll**：基于红黑树结构，提供高效的事件增删查改，支持LT和ET模式。

5. **信号驱动IO**：
   - 通过sigaction建立SIGIO信号联系，当数据准备就绪时，通过信号通知线程。

6. **异步IO**：
   - 应用向内核发送读取请求后返回，内核主动复制数据到用户空间，完成后通知应用。

7. **同步与异步区别**：
   - **同步IO**：发出调用时需等待结果。
   - **异步IO**：发出调用后，数据准备过程中不参与，完成后通知应用。
