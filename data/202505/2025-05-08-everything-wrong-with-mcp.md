# Everything Wrong with MCP
- URL: https://blog.sshh.io/p/everything-wrong-with-mcp
- Added At: 2025-05-08 09:47:40
- [Link To Text](2025-05-08-everything-wrong-with-mcp_raw.md)

## TL;DR
MCP协议用于集成第三方工具到LLM，增强聊天助手功能，但存在安全性、带宽成本、数据接口等挑战，需加强安全、优化接口、提升LLM使用能力。

## Summary
1. **MCP简介**：
   - MCP（Model Context Protocol）是用于将第三方数据和工具集成到LLM（大型语言模型）驱动的聊天和代理中的协议。
   - 允许第三方工具和数据处理源创建插件，用于增强聊天助手的功能。

2. **MCP核心优势**：
   - 提供上下文和代理自治性，允许用户将工具直接连接到助手，实现更丰富的操作。
   - 如在Cursor中使用MCP提供调试自主性。

3. **与现有协议的对比**：
   - 与ChatGPT插件、Tool-Calling、Alexa和Google Assistant SDKs等类似，但MCP更专注于LLM友好的文本界面。
   - 与SOAP、REST和GraphQL等更低层次的协议相比，MCP基于JSON-RPC和SSE。

4. **MCP存在的问题**：
   - **安全性**：
     - 认证问题：MCP早期版本未包含认证机制，导致安全性问题。
     - 服务器实现安全问题：使用stdio运行MCP“服务器”可能导致用户设备被黑客攻击。
     - 权限和隐私问题：用户可能无意中删除敏感数据或触发不可逆操作。
   - **带宽成本**：LLM输出带宽昂贵，可能导致MCP集成增加服务成本。
   - **数据接口问题**：MCP工具响应仅限于同步文本、图像或音频片段，难以满足复杂操作的需求。
   - **LLM安全问题**：LLM对系统提示和用户提示的区分可能导致安全漏洞。
   - **数据泄露风险**：MCP可能导致敏感数据泄露，包括通过第三方服务器和恶意软件。
   - **工具使用问题**：LLM对工具的使用可能不准确，需要更复杂的搜索工具和数据处理系统。
   - **用户体验问题**：用户可能对MCP工作原理缺乏了解，导致使用上的困难。

5. **建议和展望**：
   - 加强安全性，包括引入认证机制和限制对敏感数据的访问。
   - 优化数据接口，支持更丰富的工具响应和异步更新。
   - 提高LLM对工具的使用能力，确保工具的准确性和高效性。
   - 教育用户了解MCP的使用方法和潜在风险，提高安全性意识。
